<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/konpa/devicon@master/devicon.min.css"><title data-react-helmet="true">C++ API | Cylon</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="C++ API | Cylon"><meta data-react-helmet="true" name="description" content="cylon::CylonContext"><meta data-react-helmet="true" property="og:description" content="cylon::CylonContext"><meta data-react-helmet="true" property="og:url" content="https://cylondata.org/docs/cpp"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cylondata.org/docs/cpp"><link rel="stylesheet" href="/styles.cd8fda08.css">
<link rel="preload" href="/styles.bbcdaa84.js" as="script">
<link rel="preload" href="/runtime~main.65f4b550.js" as="script">
<link rel="preload" href="/main.8172da6b.js" as="script">
<link rel="preload" href="/1.d8b39070.js" as="script">
<link rel="preload" href="/2.67298076.js" as="script">
<link rel="preload" href="/32.76168b4a.js" as="script">
<link rel="preload" href="/33.38d6d8c3.js" as="script">
<link rel="preload" href="/20ac7829.5343b23b.js" as="script">
<link rel="preload" href="/17896441.4d58fecd.js" as="script">
<link rel="preload" href="/c9358a5c.970a1452.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Cylon"><strong class="navbar__title">Cylon</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Cylon"><strong class="navbar__title">Cylon</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Setting Up</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Compiling</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/arch">Architecture</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/cpp">C++ API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python">PyCylon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java">Java API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Running Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/mpi">Run with MPI</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">C++ API</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cyloncyloncontext"></a><code>cylon::CylonContext</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cyloncyloncontext" title="Direct link to heading">#</a></h2><p>The entry point to cylon operations</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="initialization"></a>Initialization<a aria-hidden="true" tabindex="-1" class="hash-link" href="#initialization" title="Direct link to heading">#</a></h3><p>Local initialization</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto ctx = cylon::CylonContext::Init();</span></div></div></div></div></div><p>Distributed initialization</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto mpi_config = new cylon::net::MPIConfig();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto ctx = cylon::CylonContext::InitDistributed(mpi_config);</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="context-methods"></a>Context methods<a aria-hidden="true" tabindex="-1" class="hash-link" href="#context-methods" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Completes and closes all operations under the context</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void Finalize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Adds a configuration</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;std::string&gt; key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;std::string&gt; value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void AddConfig(const std::string &amp;key, const std::string &amp;value);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns a configuration</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;std::string&gt; key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;std::string&gt; def Default value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;std::string&gt; configuration value</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std::string GetConfig(const std::string &amp;key, const std::string &amp;def = &quot;&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns the Communicator instance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::net::Communicator&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  net::Communicator *GetCommunicator() const;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Sets a Communicator</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;cylon::net::Communicator*&gt; pointer to another communicator</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void setCommunicator(net::Communicator *communicator1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Sets if distributed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;bool&gt; distributed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void setDistributed(bool distributed);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns the local rank</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return rank &lt;int&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int GetRank();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns the world size</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return world size &lt;int&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int GetWorldSize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns the neighbors in the world</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param include_self</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return a std::vector&lt;int&gt; of ranks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  vector&lt;int&gt; GetNeighbours(bool include_self);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns memory pool</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::MemoryPool&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cylon::MemoryPool *GetMemoryPool();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Sets a memory pool</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param &lt;cylon::MemoryPool&gt; mem_pool</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void SetMemoryPool(cylon::MemoryPool *mem_pool);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cylontable"></a><code>cylon::Table</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#cylontable" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="reading-tables"></a>Reading tables<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reading-tables" title="Direct link to heading">#</a></h3><p>A <code>cylon::Table</code> can be created from a csv file as follows. </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;cylon::Table&gt; table1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto read_options = CSVReadOptions();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto status = Table::FromCSV(ctx, &quot;/path/to/csv&quot;, table1, read_options))</span></div></div></div></div></div><p>Read a set of tables using threads, </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;cylon::Table&gt; table1, table2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto read_options = CSVReadOptions().UseThreads(true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto status = Table::FromCSV(ctx, {&quot;/path/to/csv1.csv&quot;, &quot;/path/to/csv2.csv&quot;}, {table1, table2}, read_options);</span></div></div></div></div></div><p>An <code>arrow::Table</code> can be imported as follows, </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;cylon::Table&gt; table1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;arrow::Table&gt; some_arrow_table = ...;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto status = Table::FromArrowTable(ctx, some_arrow_table, table1);</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="writing-tables"></a>Writing tables<a aria-hidden="true" tabindex="-1" class="hash-link" href="#writing-tables" title="Direct link to heading">#</a></h3><p>A <code>cylon::Table</code> can be written to a CSV file as follows, </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;cylon::Table&gt; table1; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto write_options = cylon::io::config::CSVWriteOptions();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto status = table1-&gt;WriteCSV(&quot;/path/to/csv&quot;, write_options);</span></div></div></div></div></div><p>A <code>cylon::Table</code> can be coverted into an <code>arrow::Table</code> by simply, </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;arrow::Table&gt; some_arrow_table;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">std::shared_ptr&lt;cylon::Table&gt; table1; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">auto status = table1-&gt;ToArrowTable(some_arrow_table);</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cylontable-operations"></a><code>cylon::Table</code> Operations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cylontable-operations" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Do the join with the right table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param right the right table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param joinConfig the join configurations</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output the final table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return success</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Join(const std::shared_ptr&lt;Table&gt; &amp;right,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              cylon::join::config::JoinConfig join_config,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              std::shared_ptr&lt;Table&gt; *output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Similar to local join, but performs the join in a distributed fashion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param right</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param join_config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::Status&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status DistributedJoin(const shared_ptr&lt;Table&gt; &amp;right,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                         cylon::join::config::JoinConfig join_config,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                         std::shared_ptr&lt;Table&gt; *output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Performs union with the passed table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param other right table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output output table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::Status&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Union(const std::shared_ptr&lt;Table&gt; &amp;other, std::shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Similar to local union, but performs the union in a distributed fashion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param other</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status DistributedUnion(const shared_ptr&lt;Table&gt; &amp;other, shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Performs subtract/difference with the passed table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param right right table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output output table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::Status&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Subtract(const std::shared_ptr&lt;Table&gt; &amp;right, std::shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Similar to local subtract/difference, but performs in a distributed fashion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param other</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status DistributedSubtract(const shared_ptr&lt;Table&gt; &amp;right, shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Performs intersection with the passed table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param other right table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output output table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return &lt;cylon::Status&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Intersect(const std::shared_ptr&lt;Table&gt; &amp;other, std::shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Similar to local intersection, but performs in a distributed fashion</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param other</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status DistributedIntersect(const shared_ptr&lt;Table&gt; &amp;other, shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Filters out rows based on the selector function</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param selector lambda function returning a bool</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Select(const std::function&lt;bool(cylon::Row)&gt; &amp;selector, std::shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Creates a simpler view of an existing table by dropping one or more columns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param project_columns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Status Project(const std::vector&lt;int64_t&gt; &amp;project_columns, std::shared_ptr&lt;Table&gt; &amp;output);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Clears the table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void Clear();</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cylontable-attributes"></a><code>cylon::Table</code> Attributes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cylontable-attributes" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Get the number of columns in the table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return numbre of columns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int32_t Columns();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Get the number of rows in this table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return number of rows in the table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  int64_t Rows();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Print the complete table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void Print();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Print the table from row1 to row2 and col1 to col2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param row1 first row to start printing (including)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param row2 end row to stop printing (including)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param col1 first column to start printing (including)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @param col2 end column to stop printing (including)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  void Print(int row1, int row2, int col1, int col2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Get the id associated with this table</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return string id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std::string GetID() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return this-&gt;id_;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * Returns the cylon Context</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   * @return</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  cylon::CylonContext *GetContext();</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="c-examples"></a>C++ Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#c-examples" title="Direct link to heading">#</a></h3><p>Following is a simple C++ API example. </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;glog/logging.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;net/mpi/mpi_communicator.hpp&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;ctx/cylon_context.hpp&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;table.hpp&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int main(int argc, char *argv[]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if (argc &lt; 3) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    LOG(ERROR) &lt;&lt; &quot;There should be two arguments with paths to csv files&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  std::shared_ptr&lt;cylon::Table&gt; first_table, second_table, joined;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto mpi_config = new cylon::net::MPIConfig();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto ctx = cylon::CylonContext::InitDistributed(mpi_config);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto read_options = cylon::io::config::CSVReadOptions().UseThreads(false).BlockSize(1 &lt;&lt; 30);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  auto status = cylon::Table::FromCSV(ctx, argv[1], first_table, read_options);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if (!status.is_ok()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    LOG(INFO) &lt;&lt; &quot;Table reading failed &quot; &lt;&lt; argv[1];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx-&gt;Finalize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  status = cylon::Table::FromCSV(ctx, argv[2], second_table, read_options);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if (!status.is_ok()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    LOG(INFO) &lt;&lt; &quot;Table reading failed &quot; &lt;&lt; argv[2];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx-&gt;Finalize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  LOG(INFO) &lt;&lt; &quot;Read tables completed!&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  status = first_table-&gt;DistributedJoin(second_table, cylon::join::config::JoinConfig::InnerJoin(0, 0), &amp;joined);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  if (!status.is_ok()) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    LOG(INFO) &lt;&lt; &quot;Table join failed &quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx-&gt;Finalize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  LOG(INFO) &lt;&lt; &quot;First table had : &quot; &lt;&lt; first_table-&gt;Rows() &lt;&lt; &quot; and Second table had : &quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;&lt; second_table-&gt;Rows() &lt;&lt; &quot;, Joined has : &quot; &lt;&lt; joined-&gt;Rows();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  LOG(INFO) &lt;&lt; &quot;Join completed!&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ctx-&gt;Finalize();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  return 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>Further examples can be found in <a href="https://github.com/cylondata/cylon/tree/master/cpp/src/examples" target="_blank" rel="noopener noreferrer">Cylon examples in Github</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/cpp.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/arch"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/python"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PyCylon »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cyloncyloncontext" class="table-of-contents__link"><code>cylon::CylonContext</code></a><ul><li><a href="#initialization" class="table-of-contents__link">Initialization</a></li><li><a href="#context-methods" class="table-of-contents__link">Context methods</a></li></ul></li><li><a href="#cylontable" class="table-of-contents__link"><code>cylon::Table</code></a><ul><li><a href="#reading-tables" class="table-of-contents__link">Reading tables</a></li><li><a href="#writing-tables" class="table-of-contents__link">Writing tables</a></li><li><a href="#cylontable-operations" class="table-of-contents__link"><code>cylon::Table</code> Operations</a></li><li><a href="#cylontable-attributes" class="table-of-contents__link"><code>cylon::Table</code> Attributes</a></li><li><a href="#c-examples" class="table-of-contents__link">C++ Examples</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/cylondata@googlegroups.com">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/cylondata/cylon" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/styles.bbcdaa84.js"></script>
<script src="/runtime~main.65f4b550.js"></script>
<script src="/main.8172da6b.js"></script>
<script src="/1.d8b39070.js"></script>
<script src="/2.67298076.js"></script>
<script src="/32.76168b4a.js"></script>
<script src="/33.38d6d8c3.js"></script>
<script src="/20ac7829.5343b23b.js"></script>
<script src="/17896441.4d58fecd.js"></script>
<script src="/c9358a5c.970a1452.js"></script>
</body>
</html>